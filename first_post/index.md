# ä»é›¶å¼€å§‹çš„æ ‘è“æ´¾å®¶åº­å…±äº«æ–‡ä»¶æœåŠ¡æ­å»º


## ç¯å¢ƒ

* Win10 

## æ‰€éœ€ç¡¬ä»¶

* æ ‘è“æ´¾ 3B+

  ğŸ“£ç°åœ¨æœ€æ–°å·²ç»æ˜¯4Bäº†ï¼Œæ€§èƒ½æ›´å¼ºäº†ï¼Œåƒå…†ç½‘å£ä¹Ÿæ›´é€‚åˆå®¶åº­å…±äº«æ–‡ä»¶ã€‚æ‰‹å¤´æ­£å¥½æœ‰3B+å°±ç”¨äº†ã€‚
 
  * æ•£çƒ­ç‰‡2ç‰‡
  * ä¿æŠ¤å£³ä¸€ä¸ª
* ç”µæºï¼š
  * Micro USB æ¥å£æ•°æ®çº¿ï¼ˆè¾“å‡ºç”µå‹ï¼š5V è¾“å‡ºç”µæµï¼šâ‰¥2Aï¼‰
  * å®é™…ä½¿ç”¨äº†IPAD å……ç”µå™¨ï¼Œæ„Ÿè§‰å…¶ä»–æ‰‹æœºå……ç”µå™¨åº”è¯¥ä¹Ÿè¡Œ
* Micro SDå¡

  * æ ‘è“æ´¾ä¸å¸¦ç¡¬ç›˜ï¼ŒMicro SDå¡å°±æ˜¯ç¡¬ç›˜ã€‚æœ€å°å®¹é‡8Gï¼Œæ¨èä½¿ç”¨16Gå’Œ32Gçš„å¡ã€‚
* SD è¯»å¡å™¨
* ç½‘çº¿ä¸€æ ¹
* æ˜¾ç¤ºå™¨ï¼šï¼ˆå¯ä»¥ä¸ç”¨ï¼‰
  * Raspberry pi å¸¦æœ‰HDMIæ¥å£ï¼Œå¯ä»¥è¿æ¥æ˜¾ç¤ºå™¨SD å¡è¯»å¡å™¨
  * å®é™…ä½¿ç”¨äº†SSH åœ¨ç”µè„‘ä¸Šè¿æ¥VNCè¿œç¨‹æ¡Œé¢ï¼Œå®é™…ä¸Šä¹Ÿä¸å¤ªç”¨åˆ°
* ç”µè„‘

  * è¿›è¡ŒSSHè¿æ¥ç­‰å„ç§æ“ä½œ
* ç¡¬ç›˜æˆ–å…¶ä»–å¤§å®¹å™¨å­˜å‚¨è®¾å¤‡ä»¥åŠé…å¥—ç”µæºç­‰

  ğŸ“£å®é™…ä½¿ç”¨äº†2Tçš„æœºæ¢°ç¡¬ç›˜å’Œæ˜“é©±çº¿+ç”µæºï¼Œå› ä¸ºæ ‘è“æ´¾å¸¦ä¸åŠ¨3.5å¯¸çš„ç¡¬ç›˜ï¼Œç¡¬ç›˜ä¸€å®šè¦é¢å¤–çš„ç”µæºã€‚ç¡¬ç›˜ç›’å­å¯èƒ½æ¯”æ˜“é©±çº¿æ›´ç¨³ã€‚æ‰€ä»¥ç§»åŠ¨ç¡¬ç›˜å¯èƒ½æ›´çœäº‹ï¼Œç›´æ¥USBä¸€æ’å°±å¥½äº†ï¼Œè¿˜å‰©ç©ºé—´ã€‚

## æ‰€éœ€è½¯ä»¶

* ç³»ç»Ÿä¸‹è½½ï¼ˆé€‰ä¸€ä¸ªï¼‰

  > æƒ³è¦æœ‰æ¡Œé¢çš„ï¼Œç³»ç»Ÿä¹Ÿè¦ä¸‹desktopç‰ˆï¼Œå¦‚æœä½¿ç”¨OMV5çš„è¯ï¼Œå®˜æ–¹æ‰‹å†Œå»ºè®®ç³»ç»Ÿæ˜¯liteç‰ˆï¼Œä¸è¿‡OMV5ä¸åœ¨æœ¬æ–‡è®¨è®ºä¹‹åˆ—ã€‚

  * [å®˜ç½‘](https://www.raspberrypi.org/software/)
  * [æ¸…åé•œåƒ](https://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/)
  * [ä¸Šäº¤é•œåƒ](https://mirrors.sjtug.sjtu.edu.cn/raspberry-pi-os-images/)

* æ£€éªŒMD5ï¼šæ£€éªŒä¸‹è½½ç³»ç»Ÿé•œåƒæ˜¯å¦æ­£ç¡®

  * [MD5â€“SHA Checksum utility](https://md5-sha-checksum-utility.en.lo4d.com/windows)

  ğŸ“£ä¿é™©èµ·è§è¿˜æ˜¯Checkä¸€ä¸‹

* è§£å‹è½¯ä»¶

  * 7-Zip 

* æ ¼å¼åŒ–SDå¡
  * [SDFormatter](https://www.sdcard.org/downloads/formatter/eula_windows/index.html)
  * [h2testw](http://www.heise.de/ct/Redaktion/bo/downloads/h2testw_1.4.zip)ï¼ˆä¸ç”¨ä¹Ÿå¯ï¼‰

* çƒ§å½•ç³»ç»Ÿï¼ˆé€‰ä¸€ä¸ªï¼‰
  * [Etcher](https://www.balena.io/etcher/)
  * win32diskimager

* SSH å®¢æˆ·ç«¯
  * [PuTTY](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)
  * æˆ–å…¶ä»–

  ğŸ“£å®é™…ç›´æ¥ä½¿ç”¨äº†ç³»ç»Ÿè‡ªå¸¦çš„cmd

## å‡†å¤‡æ­¥éª¤

### è·å–æ ‘è“æ´¾ç³»ç»Ÿé•œåƒ

1. åœ¨[å®˜ç½‘](https://www.raspberrypi.org/software/)/[é•œåƒç«™](https://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/)ä¸‹è½½æ ‘è“æ´¾ç³»ç»Ÿ
2. æ ¡éªŒ[MD5](https://md5-sha-checksum-utility.en.lo4d.com/windows)å’ŒSHA hashå€¼ï¼Œç¡®ä¿æ–‡ä»¶æ­£ç¡®ï¼ˆé‡è¦ï¼‰
3. ä½¿ç”¨è§£å‹å·¥å…·å¦‚`7-Zip`è§£å‹å‡ºä»¥`.img`ç»“å°¾çš„é•œåƒ

ğŸ“£å› ä¸ºæ˜¯å°ç™½ï¼Œæ‰€ä»¥å®é™…ä¸Šæ¯ä¸€æ­¥éƒ½åšäº†ã€‚

### æ ¼å¼åŒ–å’Œæµ‹è¯•SDå¡

1. å°†SDå¡æ’å…¥è¯»å¡å™¨ï¼Œè¯»å¡å™¨æ¥å…¥ç”µè„‘çš„USBæ¥å£
2. ä½¿ç”¨[SDæ ¼å¼åŒ–å·¥å…·](https://www.sdcard.org/downloads/formatter/eula_windows/index.html)æ¸…ç†SDå¡
3. ç­‰å¾…
4. ä½¿ç”¨[æµ‹è¯•å·¥å…·](http://www.heise.de/ct/Redaktion/bo/downloads/h2testw_1.4.zip),ç¡®ä¿æ²¡æœ‰é”™è¯¯ï¼ˆå¯é€‰ï¼‰
5. ç­‰å¾…
6. å†æ¬¡æ ¼å¼åŒ–SDå¡
7. ç­‰å¾…

ğŸ“£å› ä¸ºæ˜¯å°ç™½ï¼Œæ‰€ä»¥å®é™…ä¸Šæ¯ä¸€æ­¥éƒ½åšäº†ã€‚

### çƒ§å½•ç³»ç»Ÿåˆ°SDå¡

1. ä½¿ç”¨[çƒ§å½•å·¥å…·](https://www.balena.io/etcher/)å°†ç³»ç»Ÿçƒ§å½•åˆ°SDå¡å†…
2. ç­‰å¾…

### å¼€å¯SSHè¿œç¨‹è¿æ¥æœåŠ¡

1. çƒ§å½•å®Œï¼Œåœ¨ç”µè„‘ä¸Šè¿›å…¥SDå¡å†…
2. æ–°å»ºä¸€ä¸ªåä¸º`ssh`ä¸”æ— ä»»ä½•åç¼€åçš„ç©ºæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ç½‘çº¿çš„è¯ï¼Œä»åˆæ¬¡å¯åŠ¨çš„ç¬¬å…­æ­¥çš„ç¬¬äºŒæ­¥å¼€å§‹ã€‚å¦‚æœ**æ²¡æœ‰è·¯ç”±å™¨ï¼Œæ²¡æœ‰ç½‘çº¿ï¼Œæ²¡æœ‰æ˜¾ç¤ºå™¨**ï¼Œä»åˆæ¬¡å¯åŠ¨çš„ç¬¬å…­æ­¥å¼€å§‹ã€‚
3. å¼¹å‡ºSDå¡

### åˆæ¬¡å¯åŠ¨

1. å°†SDå¡æ’å…¥æ ‘è“æ´¾

2. è¿æ¥ç”µæº

3. è¿æ¥ç½‘çº¿åˆ°è·¯ç”±å™¨

4. ç™»å…¥è·¯ç”±å™¨ï¼Œè¿›å…¥è·¯ç”±å™¨è®¾ç½®é¢æ¿ï¼ŒæŸ¥çœ‹æ ‘è“æ´¾çš„IPåœ°å€ï¼Œ

   * å¦‚æœä»¥ååªä½¿ç”¨æœ‰çº¿è¿æ¥ï¼Œå¯ä»¥å°†æœ‰çº¿è¿æ¥çš„IPåœ°å€å’ŒMACåœ°å€è¿›è¡Œç»‘å®š

5. ä½¿ç”¨SSHå®¢æˆ·ç«¯ç™»å½•

   * cmdï¼š`ssh pi@ipåœ°å€`ï¼›passwordï¼š`raspberry`
   * ç™»å½•å‡ºç°`WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED`,è¿›å…¥æç¤ºçš„æ–‡ä»¶è·¯å¾„ï¼Œä¸€èˆ¬æ˜¯åˆ é™¤`.ssh`æ–‡ä»¶å¤¹ä¸‹çš„known_hostsæ–‡ä»¶ä¸­çš„æŸä¸€è¡Œï¼ˆæç¤ºè·¯å¾„åé¢çš„æ•°å­—ï¼‰ï¼Œé‡æ–°`ssh`å°±å¯ä»¥äº†ã€‚

6. å¦‚æœ**æ²¡æœ‰è·¯ç”±å™¨ï¼Œæ²¡æœ‰ç½‘çº¿ï¼Œæ²¡æœ‰æ˜¾ç¤ºå™¨**ï¼Œåªæœ‰ä¸€å°è”ç½‘çš„ç”µè„‘ï¼Œå°±å¯ä»¥è¿›è¡Œwifié¢„è®¾ç½®ï¼Œ**æœ‰å¤±è´¥çš„å¯èƒ½æ€§**ã€‚

   1. æ‰“å¼€ç”µè„‘çš„ç§»åŠ¨çƒ­ç‚¹

   2. åœ¨åˆ›å»ºå®Œ`ssh`æ–‡ä»¶åï¼Œå†åˆ›å»ºä¸€ä¸ªæ–°æ–‡æœ¬æ–‡æ¡£ï¼Œå†…å®¹ä¸º

      ```
      ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
      update_config=1
      country=US
      
      network={
      	ssid="Your network SSID"
      	psk="Your WPA/WPA2 security key"
      	key_mgmt=WPA-PSK
      }
      ```

      è¦ä¿®æ”¹`ssid`å’Œ`psk`å¼•å·é‡Œçš„å†…å®¹, è¿™åœ¨ç”µè„‘è®¾ç½®>>ç§»åŠ¨çƒ­ç‚¹ä¸­æŸ¥çœ‹`ssid`çš„å¼•å·å†…å¡«`ç½‘ç»œåç§°`å†’å·åé¢çš„å†…å®¹ï¼Œ`psk`å¡«`ç½‘ç»œå¯†ç `å†’å·åé¢çš„å†…å®¹

   3. é‡å‘½åè¯¥æ–‡ä»¶åä¸º`wpa_supplicant.conf`,åŒæ ·ä¸è¦ä»¥`.txt`çš„æ–‡ä»¶åç¼€åï¼Œå¯æ·»åŠ å¤šä¸ªwifiï¼Œåªè¦å†å¢åŠ ä¸€ä¸ªnetworkå³å¯

   4. å®Œæˆä»¥ä¸Šæ“ä½œåï¼Œå°†å¡æ’å…¥æ ‘è“æ´¾ä¸­ï¼Œæ ‘è“æ´¾é€šä¸Šç”µæº

   5. çœ‹ç¬”è®°æœ¬è®¾ç½®>>ç§»åŠ¨çƒ­ç‚¹é¡µé¢çš„`å·²è¿æ¥çš„è®¾å¤‡`é‚£é‡Œä¼šæ˜¾ç¤ºå·²è¿æ¥è®¾å¤‡ä¸€å°ï¼Œå¹¶å‡ºç°æ ‘è“æ´¾çš„IPåœ°å€ï¼Œ192å¼€å¤´çš„å³æ˜¯ï¼Œæˆ–è€…ä½¿ç”¨IPæœç´¢å·¥å…·ï¼Œå¦‚`Advanced IP Scanner`

   6. SSHç™»å½•

ğŸ“£å®é™…ä¸Šï¼Œç”¨ç½‘çº¿æ¥çš„è·¯ç”±å™¨å’Œæ ‘è“æ´¾ï¼Œå¹¶ç»‘å®šäº†æœ‰çº¿IPåœ°å€ã€‚ä»¥å‰åœ¨å­¦æ ¡çš„æ—¶å€™æ²¡åŠæ³•ç”¨è¿‡ç¬¬å…­æ­¥ï¼Œå¯»æ‰¾IPçš„å¤±è´¥æ¦‚ç‡è¿·ä¹‹é«˜ã€‚å½“ç„¶æœ€ç®€å•çš„æ˜¯è¿å±å¹•ï¼Œä½†æ²¡å±å¹•æ²¡è¯•è¿‡ã€‚

### åŸºæœ¬è®¾ç½®

1. è¿›å…¥è®¾ç½®ç•Œé¢ï¼š`sudo raspi-config`
2. å¼€å¯VNC Serverï¼š**Interfacing Option >> VNC**
3. ä½ç½®ï¼šLocalisation Options>>Locale>>zh_CN,UTF-8,UTF-8
4. æ—¶åŒºï¼šLocalisation Options>>Timezone>>Asia>>Shanghai
5. finish é‡å¯
6. æ›´æ”¹é•œåƒæºï¼š[æ¸…å](https://mirror.tuna.tsinghua.edu.cn/help/raspbian/)
   1. `sudo nano /etc/apt/sources.list` åˆ é™¤/`#`æ³¨é‡Šæ‰åŸæ–‡ï¼Œå¤åˆ¶é»è´´ï¼Œä¿å­˜`Ctrl+O`+å›è½¦+`Ctrl+X`é€€å‡º
   2. `sudo nano /etc/apt/sources.list.d/raspi.list` åˆ é™¤/`#`æ³¨é‡Šæ‰åŸæ–‡ï¼Œå¤åˆ¶é»è´´ï¼Œä¿å­˜`Ctrl+O`+å›è½¦+`Ctrl+X`é€€å‡º
   3. `sudo apt-get update`

ğŸ“£ä»¥ä¸Šéƒ½æ˜¯å¿…è¦è®¾ç½®ï¼Œå®é™…ä¸Šä¹Ÿåªè®¾ç½®äº†è¿™äº›ã€‚

## æ–‡ä»¶å…±äº«æœåŠ¡æ­å»º

### å®‰è£…ntfs-3g

> è¦æŒ‚è½½`ntfs`æ ¼å¼çš„ç¡¬ç›˜ï¼Œå¿…é¡»æœ‰`ntfs-3g`æ¨¡å—çš„æ”¯æŒï¼Œæ²¡æœ‰çš„è¯ï¼Œåªèƒ½è¯»ä¸èƒ½å†™ã€‚

1. çœ‹ç³»ç»Ÿæœ‰æ²¡æœ‰è‡ªå¸¦`apt search ntfs-3g`,æœ‰å°±ç›´æ¥ä¸‹ä¸€æ­¥
2. æˆ–è€…ç›´æ¥å®‰è£…
   - `sudo apt-get install -y ntfs-3g` 
   - åŠ è½½å†…æ ¸æ”¯æŒ`modprobe fuse`
3. æˆ–è€…ç›´æ¥å°†ç¡¬ç›˜æ ¼å¼åŒ–ä¸ºext4æ ¼å¼ï¼š`mkfs.ext4 /dev/sda1`

ğŸ“£å®é™…ä¸Šæ²¡æœ‰å®‰è£…ã€‚

### ç¡¬ç›˜æŒ‚è½½

* æŸ¥çœ‹ç¡¬ç›˜æŒ‚è½½æƒ…å†µï¼š`df -h` ä¸€èˆ¬ä¼šè‡ªåŠ¨æŒ‚è½½åˆ°`/media/pi`ï¼Œ
* å°†ç¡¬ç›˜æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ï¼Œè·³åˆ°æ­¥éª¤5

> å¦‚æœæ˜¯æ–°ç¡¬ç›˜æˆ–ç€æœ‰æƒ³åˆ æ‰çš„åˆ†åŒº

1. æŸ¥çœ‹å¤–æ¥ç¡¬ç›˜åˆ†åŒºè¡¨ï¼š`sudo fdisk -l`,ä¸€èˆ¬æ˜¯`/dev/sda`ï¼Œ

   - å¦‚æœçœ‹ä¸åˆ°ç¡¬ç›˜ï¼Œå¯èƒ½ç”µå‹ä¸è¶³ï¼Œç¡¬ç›˜è¦å¤–æ¥ç”µæº

   - å¦‚æœå‡ºç°`Partition 1 does not start on physical sector boundary`æƒ…å†µï¼Œå¯èƒ½é—®é¢˜ä¸å¤§ï¼Œä¸å½±å“ä½¿ç”¨ï¼Œå°†èµ·å§‹ä½ç½®è®¾ç½®*ä¸º8çš„å€æ•°çš„*ä»»ä½•é€»è¾‘æ‰‡åŒºã€‚

     1. å¤‡ä»½
     2. ç»“æœ1ï¼š`cat /sys/block/sdb/queue/optimal_io_size`
     3. ç»“æœ2ï¼š`cat /sys/block/sdb/alignment_offset`
     4. é€šè¿‡å…¬å¼è®¡ç®—ï¼šï¼ˆç»“æœ1+ç»“æœ2ï¼‰/512=ç»“æœ3
     5. é‡æ–°åˆ†åŒº,åˆ é™¤æ‰€æœ‰åˆ†åŒº
        - `parted /dev/sda`
        - `rm 1...`
     6. `mkpart primary ext4 ç»“æœ3s 10240G`
     7. `sudo fdisk -l`->è·³åˆ°2.4

     ğŸ“£å®é™…ä¸Šç›´æ¥ä»2.2å¼€å§‹åˆ°ç»“æŸï¼Œä½¿ç”¨äº†fdiskåˆ æ‰æ‰€æœ‰åˆ†åŒºï¼Œé»˜è®¤æ–°å»ºåˆ†åŒº...å¥½åƒä¹Ÿä¸æŠ¥è¿™ä¸ªè­¦å‘Šäº†ã€‚

2. å¯¹å¤–æ¥ç¡¬ç›˜è¿›è¡Œåˆ†åŒºï¼š`sudo fdisk /dev/sda`

3. å‡ºç°`Command(m for help)`,ä½¿ç”¨æŒ‡ä»¤è¿›è¡Œç›¸å…³æ“ä½œï¼ˆåœ¨è¾“å…¥ `w `å‘½ä»¤æ‰§è¡Œå†™å…¥ä¹‹å‰ï¼Œæ‰€æœ‰æ”¹åŠ¨éƒ½æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œ`Ctrl+C`éšæ—¶é€€å‡ºé‡æ¥ã€‚ï¼‰

   ```
   fdisk å¸¸ç”¨æŒ‡ä»¤
   n: æ·»åŠ æ–°çš„åˆ†åŒº
   p: æŸ¥çœ‹åˆ†åŒºä¿¡æ¯
   w: ä¿å­˜é€€å‡º
   q: ä¸ä¿å­˜é€€å‡º
   d: åˆ é™¤åˆ†åŒº
   t: æ”¹å˜åˆ†åŒºç±»å‹
   ```

4. æ ¼å¼åŒ–åˆ†åŒºï¼š`sudo mkfs -t ext4 /dev/sda1`
5. æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ï¼š
   1. åˆ›å»ºæƒ³è¦æŒ‚è½½çš„ç›®å½•ï¼š`mkdir  /home/pi/share`ï¼Œç›®å½•éšæ„ï¼Œä¼¼ä¹ä¸€èˆ¬æ”¾`/mnt/`ä¸‹
   2. ä½¿ç”¨mountå°†åˆ†åŒºæŒ‚è½½åˆ°ç›®å½•ä¸Šï¼š`sudo mount /dev/sda1 /home/pi/share`
   3. èµ‹äºˆpiç”¨æˆ·æ“ä½œè¯¥ç›®å½•çš„æƒé™ï¼š`sudo chown pi:pi /home/pi/share`
   4. æŒ‚è½½å‡ºé”™æˆ–è€…æŒ‚è½½é”™åœ°æ–¹äº†æˆ–è€…å¸è½½ï¼š`sudo umount /dev/sda1`
   5. æŸ¥çœ‹æŒ‚è½½æƒ…å†µï¼š`df -h`,æˆ–è€…ç›´æ¥`cd ~/share`æŸ¥çœ‹
6. å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œfstabæ–¹å¼
   1. æŸ¥çœ‹ç¡¬ç›˜çš„UUIDï¼š`sudo blkid` æˆ–è€… `ls -l /dev/disk/by-uuid`,è®°ä¸‹UUID
   2. å°†ç¡¬ç›˜ä¿¡æ¯æ·»åŠ åˆ°`/etc/fstab` æœ«å°¾
      1. `sudo nano /etc/fstab`
      2. ext4æ ¼å¼ï¼š`UUID=e3e1729e-5f30-41d3-ae87-7e1a6721baab     /home/pi/share   ext4  defaults   0   2`
      3. ntfsæ ¼å¼ï¼š`UUID=ä½ çš„UUID   ä½ çš„æŒ‚è½½ç›®å½•   ntfs    gid=pi,uid=pi,dmask=002,fmask=113   0   0`
      4. ä¿å­˜`Ctrl+O`+å›è½¦+`Ctrl+X`é€€å‡º
7. é‡å¯ï¼š`sudo reboot`

### å®‰è£…Samba

1. å®‰è£…ï¼š`sudo apt-get install samba samba-common-bin`

2. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š`sudo nano /etc/samba/smb.conf`

   ```cmd
   [Share éšä¾¿èµ·ä¸ªå]
   
       path = å…±äº«çš„åœ°å€ï¼Œç¡¬ç›˜æŒ‚è½½åœ°å€ï¼Œä¾‹å¦‚/home/pi/share
   
       valid users = pi   å¯ä»¥è®¿é—®çš„ç”¨æˆ·ï¼Œå¦‚æœå¼€å¯äº†rootç”¨æˆ·æƒé™ï¼Œå°±åŠ ä¸Šroot
   
       browseable = Yes å¯ä»¥è®©è¢«äººçœ‹åˆ°èµ„æºåç§°å—ï¼Ÿè‡ªå·±å’Œå®¶äººç”¨ä¹Ÿå°±æ— æ‰€è°“äº†
   
       writeable = Yes å¯å†™å…¥
   
       writelist = pi å¯å†™ç”¨æˆ·åˆ—è¡¨ï¼Œä¸å†™ä¹Ÿæ— æ‰€è°“
   
       create mask = 0644 æ–°å»ºæ–‡ä»¶æƒé™
   
       directory mask = 0775 æ–°å»ºæ–‡ä»¶å¤¹çš„æƒé™
   ```

3. ä¿å­˜`Ctrl+O`+å›è½¦+`Ctrl+X`é€€å‡º

4. æµ‹è¯•è¯­æ³•`testparm`

5. æ·»åŠ ç”¨æˆ·å’Œå¯†ç ï¼š`sudo smbpasswd -a pi`

6. å¯åŠ¨SambaæœåŠ¡ï¼š`systemctl start samba`

7. æŸ¥çœ‹SambaæœåŠ¡çŠ¶æ€ï¼š`systemctl status smbd`

8. æ‰“å¼€æ­¤ç”µè„‘ï¼Œä¸‹æ‹‰åˆ°ç½‘ç»œï¼Œå¼€å¯ç½‘ç»œå‘ç°ï¼Œæœªæ‰“å¼€æ—¶ Windows ä¼šåœ¨çª—å£é¡¶éƒ¨æç¤ºä½ ã€‚åœ°å€æ æœç´¢`\\æ ‘è“æ´¾ip`ï¼Œå‡ºç°Share æ–‡ä»¶å¤¹ï¼ˆå¦‚æœèµ·çš„åå­—æ˜¯Shareï¼‰

9. å¼€æœºå¯åŠ¨ï¼š`sudo systemctl enable smbd`

10. æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨ï¼šå³å‡»Shareæ–‡ä»¶å¤¹é€‰æ‹©æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨

## Aria2

### å®‰è£…åŠé…ç½®

1.  å®‰è£…`aria2`ï¼š`sudo apt install aria2`

2. `mkdir -p ~/.config/aria2/`

3. åˆ›å»ºä¼šè¯ç©ºç™½æ–‡ä»¶`touch ~/.config/aria2/aria2.session`

4. [ä¸€é”®è„šæœ¬](https://github.com/P3TERX/aria2.sh)

5. æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªariaé…ç½®æ–‡ä»¶ï¼š`nano ~/.config/aria2/aria2.config`

   ```
   # set your own path
   dir=[yourpath]
   disk-cache=32M
   file-allocation=trunc
   continue=true
   
   max-concurrent-downloads=10
   
   max-connection-per-server=16
   min-split-size=10M
   split=5
   max-overall-download-limit=0
   #max-download-limit=0
   #max-overall-upload-limit=0
   #max-upload-limit=0
   disable-ipv6=false
   
   save-session=/home/pi/.config/aria2/aria2.session
   input-file=/home/pi/.config/aria2/aria2.session
   save-session-interval=60
   
   
   enable-rpc=true
   rpc-allow-origin-all=true
   rpc-listen-all=true
   #rpc-secret=secret
   #event-poll=select
   #rpc-listen-port=6800
   
   
   # for PT user please set to false
   enable-dht=true
   enable-dht6=true
   enable-peer-exchange=true
   
   # for increasing BT speed
   listen-port=51413
   #follow-torrent=true
   #bt-max-peers=55
   #dht-listen-port=6881-6999
   #bt-enable-lpd=false
   #bt-request-peer-speed-limit=50K
   peer-id-prefix=-TR2770-
   user-agent=Transmission/2.77
   seed-ratio=0
   #force-save=false
   #bt-hash-check-seed=true
   bt-seed-unverified=true
   bt-save-metadata=true
   bt-tracker=udp://62.138.0.158:6969/announce,udp://87.233.192.220:6969/announce,udp://111.6.78.96:6969/announce,udp://90.179.64.91:1337/announce,udp://51.15.4.13:1337/announce,udp://151.80.120.113:2710/announce,udp://191.96.249.23:6969/announce,udp://35.187.36.248:1337/announce,udp://123.249.16.65:2710/announce,udp://210.244.71.25:6969/announce,udp://78.142.19.42:1337/announce,udp://173.254.219.72:6969/announce,udp://51.15.76.199:6969/announce,udp://51.15.40.114:80/announce,udp://91.212.150.191:3418/announce,udp://103.224.212.222:6969/announce,udp://5.79.83.194:6969/announce,udp://92.241.171.245:6969/announce,udp://5.79.209.57:6969/announce,udp://82.118.242.198:1337/announce
   
   ```

5. å¯åŠ¨æµ‹è¯•

   `aria2c --conf-path=/home/pi/.config/aria2/aria2.config`

   `ps aux | grep aria2`

6. å¼€æœºå¯åŠ¨

   1. åˆ›å»º`systemctl service`æ–‡ä»¶ï¼š`sudo nano /lib/systemd/system/aria2.service`

      ```
      [Unit]
      Description=Aria2 Service
      After=network.target
      
      [Service]
      User=pi
      Type=forking
      ExecStart=/usr/bin/aria2c --conf-path=/home/pi/.config/aria2/aria2.config
      
      [Install]
      WantedBy=multi-user.target
      
      ```

   2. é‡æ–°è½½å…¥æœåŠ¡ï¼Œå¹¶è®¾ç½®å¼€æœºå¯åŠ¨
      `sudo systemctl daemon-reload`
      `sudo systemctl enable aria2`

   3. æŸ¥çœ‹ariaæœåŠ¡çŠ¶æ€
      `sudo systemctl status aria2`

7. å¯åŠ¨ï¼Œåœæ­¢ï¼Œé‡å¯ariaæœåŠ¡
   `sudo systemctlï¼ˆstartã€stopã€restartï¼‰ aria2`

### å‰ç«¯

1. å®‰è£…`nginx`ï¼š`sudo apt install nginx`
2. `cd /var/www/html`
3. å®‰è£…`AriaNg` çš„å‰ç«¯

      ```
	  sudo wget https://github.com/mayswind/AriaNg/releases/download/1.1.7/AriaNg-1.1.7-AllInOne.zip
      ```

4. è§£å‹ï¼š`unzip AriaNg-1.1.7-AllInOne.zip`
5. æŸ¥çœ‹å‰ç«¯é¡µé¢ `ls`
6. å¯åŠ¨`nginx`ï¼š`systemctl start nginx`
7. æŸ¥çœ‹`nginx`çŠ¶æ€ï¼š`systemctl status nginx`
8. æµ‹è¯•é¡µé¢ï¼Œåœ¨æµè§ˆå™¨å†…è¾“å…¥æ ‘è“æ´¾IPåœ°å€ï¼Œæ˜¾ç¤ºAriaNgé¡µé¢
9. è®¾ç½®å¼€æœºå¯åŠ¨ï¼š`systemctl enable nginx`
10. è¿›å…¥`http://æ ‘è“æ´¾åœ°å€/#!/settings/ariang`ï¼Œè®¾ç½®`Aria2 RPCå¯†é’¥`ï¼Œ`secret`
11. [trackerlist](https://github.com/ngosang/trackerslist)

## å‚è€ƒ

1. https://www.bilibili.com/video/BV1aZ4y1g7ay
2. https://enit.xyz/tech/raspberry-pi-101/
3. https://blog.csdn.net/kxwinxp/article/details/80288006
4. https://li-aaron.github.io/2019/01/aira2-on-raspberry/
5. https://blog.csdn.net/kxwinxp/article/details/80288006
6. https://blog.csdn.net/sunye8910/article/details/81177298
7. https://blog.csdn.net/jorondo/article/details/104504408
8. https://www.cnblogs.com/magicbowie/p/10896703.html
9. https://blog.csdn.net/u011785648/article/details/106390074/
10. https://www.upantool.com/jiaocheng/disk/13511.html










